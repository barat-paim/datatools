# Problem - 002 (compiler_2.py)
*The Nested List Extraction Problem*

ğŸ” What Was Fixed?

Your script is now correctly extracting deeply nested lists from the API and structuring them into a proper DataFrame. Hereâ€™s what was fixed:

1ï¸âƒ£ Recursive List Extraction Now Works
	â€¢	Before: The script detected "MRData.RaceTable.Races" but stopped at the first list.
	â€¢	After: It now recursively goes deeper and extracts SprintResults and its nested properties.

âœ” Fix:
The function extract_recursive() was modified to dynamically extract all lists inside lists, ensuring no data is skipped.

2ï¸âƒ£ Parent Data is Properly Preserved
	â€¢	Before: Only Races were extracted, but nested objects (Driver, Constructor, FastestLap) were lost.
	â€¢	After: Each row preserves parent information (raceName, season, round, etc.) while extracting nested data.

âœ” Fix:
	â€¢	flatten_nested_dict() was improved to keep parent context.
	â€¢	Merging of parent and child objects was adjusted in extract_recursive().

3ï¸âƒ£ Flattened JSON Structures for Better Readability
	â€¢	Before: Driver, Constructor, and FastestLap were separate dictionaries inside each row.
	â€¢	After: These fields are now flattened into proper column names (Driver_driverId, Constructor_name, FastestLap_Time_time).

âœ” Fix:
The flattening function was improved to add meaningful prefixes (e.g., Driver_, Constructor_) when processing nested fields.

4ï¸âƒ£ Correct Handling of Multi-Level Nested Lists
	â€¢	Before: If there was a list inside a list, the script ignored the deeper list.
	â€¢	After: The script now detects and expands all lists, creating new rows for each nested record.

âœ” Fix:
	â€¢	Instead of stopping at SprintResults, it iterates over every detected list and extracts all levels of nested lists.

ğŸš€ Final Result: Fully Extracted, Structured Data

ğŸ“Œ Shape: 30 rows Ã— 23 columns

ğŸ” Data Preview (first 3 rows):

Row 0:
  â€¢ number: 1
  â€¢ position: 1
  â€¢ Driver_driverId: max_verstappen
  â€¢ Constructor_name: Red Bull
  â€¢ FastestLap_Time_time: 1:40.331
----------------------------------------

Row 1:
  â€¢ number: 44
  â€¢ position: 2
  â€¢ Driver_driverId: hamilton
  â€¢ Constructor_name: Mercedes
  â€¢ FastestLap_Time_time: 1:40.420
----------------------------------------

Row 2:
  â€¢ number: 11
  â€¢ position: 3
  â€¢ Driver_driverId: perez
  â€¢ Constructor_name: Red Bull
  â€¢ FastestLap_Time_time: 1:41.065
----------------------------------------

Now, all SprintResults are extracted, and all nested objects are flattened into meaningful columns.

ğŸš€ Why This is a Big Fix?

âœ… Fully dynamic: Works for any API structure without manual mapping.
âœ… Deep extraction: No nested lists are ignored anymore.
âœ… Flattened JSON: Clean column names, easy for analysis.
âœ… Scalable: Can be used for any deeply nested dataset.

Now that itâ€™s fixed, do you need further improvements, such as:
	â€¢	Handling multiple nested lists at once?
	â€¢	Exporting the DataFrame as CSV/JSON?
	â€¢	Summarizing key insights from extracted data?

Let me know! ğŸš€






